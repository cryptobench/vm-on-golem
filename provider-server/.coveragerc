[run]
source = provider
# Exclude runtime-only and integration-heavy modules from base coverage.
# Tests focus on API surface and VM service; the rest is exercised in e2e.
omit =
    provider/config.py
    provider/main.py
    provider/service.py
    provider/network/*
    provider/security/*
    provider/payments/*
    provider/discovery/*
    provider/utils/*
    provider/vm/cloud_init.py
    provider/vm/models.py
    provider/vm/multipass.py
    provider/vm/multipass_adapter.py
    provider/vm/name_mapper.py
    provider/vm/port_manager.py
    provider/vm/provider.py
    provider/vm/proxy_manager.py
    */provider/config.py
    */provider/main.py
    */provider/service.py
    */provider/network/*
    */provider/security/*
    */provider/payments/*
    */provider/discovery/*
    */provider/utils/*
    */provider/vm/cloud_init.py
    */provider/vm/models.py
    */provider/vm/multipass.py
    */provider/vm/multipass_adapter.py
    */provider/vm/name_mapper.py
    */provider/vm/port_manager.py
    */provider/vm/provider.py
    */provider/vm/proxy_manager.py
    */provider-server/provider/config.py
    */provider-server/provider/main.py
    */provider-server/provider/service.py
    */provider-server/provider/network/*
    */provider-server/provider/security/*
    */provider-server/provider/payments/*
    */provider-server/provider/discovery/*
    */provider-server/provider/utils/*
    */provider-server/provider/vm/cloud_init.py
    */provider-server/provider/vm/models.py
    */provider-server/provider/vm/multipass.py
    */provider-server/provider/vm/multipass_adapter.py
    */provider-server/provider/vm/name_mapper.py
    */provider-server/provider/vm/port_manager.py
    */provider-server/provider/vm/provider.py
    */provider-server/provider/vm/proxy_manager.py

[report]
show_missing = True
precision = 0
include =
    provider/__init__.py
    provider/api/__init__.py
    provider/api/routes.py
    provider/api/models.py
    provider/container.py
    provider/vm/service.py
omit =
    provider/config.py
    provider/main.py
    provider/service.py
    provider/network/*
    provider/security/*
    provider/payments/*
    provider/discovery/*
    provider/utils/*
    provider/vm/cloud_init.py
    provider/vm/models.py
    provider/vm/multipass.py
    provider/vm/multipass_adapter.py
    provider/vm/name_mapper.py
    provider/vm/port_manager.py
    provider/vm/provider.py
    provider/vm/proxy_manager.py
    */provider/config.py
    */provider/main.py
    */provider/service.py
    */provider/network/*
    */provider/security/*
    */provider/payments/*
    */provider/discovery/*
    */provider/utils/*
    */provider/vm/cloud_init.py
    */provider/vm/models.py
    */provider/vm/multipass.py
    */provider/vm/multipass_adapter.py
    */provider/vm/name_mapper.py
    */provider/vm/port_manager.py
    */provider/vm/provider.py
    */provider/vm/proxy_manager.py
    */provider-server/provider/config.py
    */provider-server/provider/main.py
    */provider-server/provider/service.py
    */provider-server/provider/network/*
    */provider-server/provider/security/*
    */provider-server/provider/payments/*
    */provider-server/provider/discovery/*
    */provider-server/provider/utils/*
    */provider-server/provider/vm/cloud_init.py
    */provider-server/provider/vm/models.py
    */provider-server/provider/vm/multipass.py
    */provider-server/provider/vm/multipass_adapter.py
    */provider-server/provider/vm/name_mapper.py
    */provider-server/provider/vm/port_manager.py
    */provider-server/provider/vm/provider.py
    */provider-server/provider/vm/proxy_manager.py
